<!DOCTYPE html>
<html>
<head>
<title>Mixed CheckBox State Demo</title>
</head>
<body>
This features a simple demo a mixed-state indicator for JCheckBoxes.
<h3>Context</h3>
<p>
Checkboxes traditionally have two states. But sometimes you need a mixed state (or tri-state) option when multiple elements are being represented.
<p>
This example is from a <a href="https://w3c.github.io/aria-practices/examples/checkbox/checkbox-2/checkbox-2.html">W3C example</a> of the same feature. Their primary use case seems to relate to when the mixed state checkbox acts like a parent/group for several individual checkboxes:
<blockquote>One common use of a tri-state checkbox can be found in software installers where a single tri-state checkbox is used to represent and control the state of an entire group of install options. And, each option in the group can be individually turned on or off with a dual state checkbox.</blockquote>
<p>
Apple's <a href="https://developer.apple.com/design/human-interface-guidelines/macos/buttons/checkboxes/">guidelines</a> similarly say:
<blockquote>Use a mixed state when it makes sense. A checkbox should accurately reflect its state. If a checkbox is used to globally enable and disable multiple child checkboxes, it should show a mixed state—reflected by a dash—when those children are not all in the same state.</blockquote>
<p>
Personally I found this feature useful a while ago when working on a document editor that supported selecting multiple objects at once. Imagine an inspector with a checkbox to toggle a shadow on/off. What should happen when you have two images selected -- one with a checkbox and one without? For this use case I'd also argue that we should include mixed states in nearly all controls. (How do we communicate with a radio button, spinner or combobox that multiple values are represented?)
<p>
<h3>Implementation</h3>

This implementation assigns a custom icon when the checkbox is in a mixed state. This custom icon is rendered on top of a snapshot of the original L&F's icon.
<p>
This is a little crude. It doesn't currently show a rollover/armed state correctly. If you animate a rollover fill: this won't show that animation.
<p>
The advantage of this implementation is: it should work pretty well with your existing L&F. Another solution might be to use a new custom L&F that guarantees support for mixed states, but then your checkbox might not look as native as you'd like.

<p>
</body>